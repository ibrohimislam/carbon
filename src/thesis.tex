%--------------------------------------------------------------------%
%
% Berkas utama templat LaTeX.
%
% author Petra Barus, Peb Ruswono Aryan
%
%--------------------------------------------------------------------%
%
% Berkas ini berisi struktur utama dokumen LaTeX yang akan dibuat.
%
%--------------------------------------------------------------------%
\documentclass[12pt, a4paper, onecolumn, oneside, final, bahasa]{report}
\special{papersize=210mm,297mm}

% set margin
%\usepackage{showframe}
\usepackage[top=2.7cm,bottom=3cm,left=4cm,right=3cm]{geometry}

% set font
\usepackage{mathptmx}

% judul bahasa Indonesia
\usepackage[bahasa]{babel}

% satu setengah spasi
\renewcommand{\baselinestretch}{1.5}

\usepackage[utf8]{inputenc}

% citation style
\usepackage[backend=bibtex,citestyle=authoryear]{biblatex}

\usepackage[activate={true,nocompatibility},final,tracking=true,kerning=true,spacing=true,factor=1100,stretch=10,shrink=10]{microtype}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{titling}
\usepackage{blindtext}
\usepackage{sectsty}
\usepackage{chngcntr}
\usepackage[table,xcdraw]{xcolor}
\usepackage{textcomp}
\usepackage{float}
\usepackage{caption}
\usepackage{tabularx}

%remove spacing before chapter
\usepackage{titlesec}
\titleformat{\chapter}[display]
{\normalfont\large\bfseries\centering}{\chaptertitlename\ \thechapter}{8pt}{\centering\large}
\titlespacing*{\chapter}{0pt}{-20pt}{40pt}

%merapikan antara nomor list dan textnya
\usepackage{tocloft}
\setlength{\cfttabnumwidth}{1.5cm}
\setlength{\cftfignumwidth}{1.5cm}

\setlength{\cftbeforetoctitleskip}{-20pt}
\renewcommand{\cfttoctitlefont}{\hfill\large\bfseries}
\renewcommand{\cftaftertoctitle}{\hfill\hfill}

\setlength{\cftbeforeloftitleskip}{-20pt}
\renewcommand{\cftloftitlefont}{\hfill\hfill\large\bfseries}
\renewcommand{\cftafterloftitle}{\hfill\hfill}

\setlength{\cftbeforelottitleskip}{-20pt}
\renewcommand{\cftlottitlefont}{\hfill\hfill\large\bfseries}
\renewcommand{\cftafterlottitle}{\hfill\hfill}

\usepackage{listings}
\lstset{
	upquote=false,
	frame=tlrb,
	basicstyle=\ttfamily\footnotesize,
	stepnumber=1,
	showstringspaces=false,
	tabsize=4,
	breaklines=true,
	breakatwhitespace=false
}

\floatstyle{plaintop}
\restylefloat{table}

\counterwithin{figure}{section}
\counterwithin{table}{section}

\captionsetup[table]{skip=10pt}
\captionsetup[figure]{name={Gambar.},labelsep=period}

\makeatletter
\def\@kampus{PROGRAM STUDI TEKNIK INFORMATIKA\\
	SEKOLAH TEKNIK ELEKTRO DAN INFORMATIKA\\
	Institut Teknologi Bandung}

\newcommand{\MONTH}{%
	\ifcase\the\month
	\or Januari% 1
	\or Februari% 2
	\or Maret% 3
	\or April% 4
	\or Mei% 5
	\or Juni% 6
	\or Juli% 7
	\or Agustus% 8
	\or September% 9
	\or Oktober% 10
	\or November% 11
	\or Desember% 12
	\fi}

%\def\@maketitle{   % custom maketitle
\newcommand{\judul}{   % custom maketitle

\begin{center}
\smallskip
\large \bfseries \MakeUppercase{\thetitle}
\vfill
\large Laporan Tugas Akhir\\
\vfill
Disusun sebagai syarat kelulusan tingkat sarjana\\
\vfill
oleh\\
\large \theauthor
\vfill
\begin{figure}[h]
\centering
  	\includegraphics[width=0.15\textwidth]{resources/cover-ganesha.jpg}
\end{figure}
\vfill
\large
\@kampus \\
\large
\MONTH\space\the\year

\end{center}
}
\makeatother

\sectionfont{\normalsize}
\subsectionfont{\normalsize}

\renewcommand{\thechapter}{\Roman{chapter}}

\bibliography{references}

\begin{document}

\title{Implementasi DPI pada Iptables sebagai Penangkal Infeksi Malware Melalui Jaringan}
\date{}
\author{IBROHIM KHOLILUL ISLAM\\
NIM : 13513090}

\input{chapters/cover}
\input{chapters/approval}

\pagenumbering{roman}
\setcounter{page}{0}

\pagestyle{plain}

\input{chapters/abstract-id}
\input{chapters/forewords}
\clearpage

\tableofcontents
\clearpage
\listoffigures
\clearpage
\listoftables
\clearpage

\pagenumbering{arabic}
\setcounter{page}{1}

\input{chapters/chapter-1}

\input{chapters/chapter-2}

\input{chapters/chapter-3}

\input{chapters/chapter-4}

\input{chapters/chapter-5}


\printbibliography

\appendix
\addcontentsline{toc}{part}{Lampiran}
\part*{Lampiran}

\input{chapters/appendix-1}
\input{chapters/appendix-2}


\end{document}
